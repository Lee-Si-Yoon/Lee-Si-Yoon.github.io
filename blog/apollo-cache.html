<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" as="style" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/variable/pretendardvariable-dynamic-subset.css"/><title>Apollo Cache</title><meta name="robots" content="follow, index"/><meta name="description" content="apollo cache의 mechanism과 어떻게 관리하는지"/><meta property="og:url" content="https://Lee-Si-Yoon.github.io/blog/apollo-cache"/><meta property="og:type" content="article"/><meta property="og:site_name" content="SiYoon"/><meta property="og:description" content="apollo cache의 mechanism과 어떻게 관리하는지"/><meta property="og:title" content="Apollo Cache"/><meta property="og:image" content="https://Lee-Si-Yoon.github.io/static/images/twitter-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="Apollo Cache"/><meta name="twitter:description" content="apollo cache의 mechanism과 어떻게 관리하는지"/><meta name="twitter:image" content="https://Lee-Si-Yoon.github.io/static/images/twitter-card.png"/><link rel="canonical" href="https://Lee-Si-Yoon.github.io/blog/apollo-cache"/><meta property="article:published_time" content="2023-05-10T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://Lee-Si-Yoon.github.io/blog/apollo-cache"
  },
  "headline": "Apollo Cache",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://Lee-Si-Yoon.github.io/static/images/twitter-card.png"
    }
  ],
  "datePublished": "2023-05-10T00:00:00.000Z",
  "dateModified": "2023-05-10T00:00:00.000Z",
  "author": {
    "@type": "Person",
    "name": "Lee Si Yoon"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Lee Si Yoon",
    "logo": {
      "@type": "ImageObject",
      "url": "https://Lee-Si-Yoon.github.io/static/images/logo.png"
    }
  },
  "description": "apollo cache의 mechanism과 어떻게 관리하는지"
}</script><meta name="next-head-count" content="21"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/898685f22b19bd53.css" as="style"/><link rel="stylesheet" href="/_next/static/css/898685f22b19bd53.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-bddbd5093f4420dd.js" defer=""></script><script src="/_next/static/chunks/framework-b70d5a348dc1ac2b.js" defer=""></script><script src="/_next/static/chunks/main-0a72c21fd55f908f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-05f270d9dc5d5eaa.js" defer=""></script><script src="/_next/static/chunks/764-57e20230e1e8b912.js" defer=""></script><script src="/_next/static/chunks/782-32a5cbb868e788af.js" defer=""></script><script src="/_next/static/chunks/410-d7172a3e38fab739.js" defer=""></script><script src="/_next/static/chunks/14-43b97f27a8b1b716.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-e55ab65e4899fe25.js" defer=""></script><script src="/_next/static/JUdfHgGXb-FaFDjbUE7Yo/_buildManifest.js" defer=""></script><script src="/_next/static/JUdfHgGXb-FaFDjbUE7Yo/_ssgManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next"><div class="mx-auto px-4 antialiased lg:max-w-5xl lg:px-0"><div class="flex flex-col justify-between"><header class="flex items-center justify-between pt-4 lg:pt-8"><a aria-label="lee-si-yoon.github.io" href="/"><div class="flex items-center justify-between"><h1 class="text-2xl font-semibold text-sky-500 hover:text-sky-600 hover:transition-colors sm:text-2xl">lee-si-yoon.github.io</h1></div></a><div class="flex items-center gap-4"><a class="text-xl font-medium text-stone-500 hover:text-stone-700 lg:text-lg" href="/blog">Blog</a></div></header><main class="mb-auto"><div class="mx-auto px-4 antialiased lg:max-w-5xl lg:px-0"><div class="fixed bottom-8 right-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div><header class="mt-14"><div class="space-y-1  pb-10 text-center"><dl><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Apollo Cache</h1></div></div></header><div class="pb-8 dark:divide-gray-700 xl:divide-y-0 " style="grid-template-rows:auto 1fr"><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pb-8 pt-10 dark:prose-dark"><h1 id="qa"><a href="#qa" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>QA</h1><p><strong>Q. 언제 신경 써야 할까요</strong></p><p>→ query만 할 경우에는 id만 확인하고, debugger에 warning이 뜰때까지는 신경안써도 될 것 같습니다. 다만 mutation할때 CRUD중 CD할때 cache를 업데이트 하는 것이 좋습니다 → 또한 mutation시 update될 모든 field를 반환하도록 하는 것을 잊지 마세요</p><p><strong>Q. page에 같은 path를 가진 query들 뿐인데 왜 cache에서 읽어오지 않고 network request를 보내는 건가요</strong></p><p>→ path에 변수가 있을 경우 같은 path로 취급하지 않기에 일단 network request를 보내보고, 나중에 object identifier를 통해서 다음 fetch때 완전히 같은 정보를 받아온다면 그때는 request를 보내지 않을 겁니다 → 만약 이전 page에서 이미 필요한 정보들을 받았다면 그땐 query문을 작성하는게 아니라 <a target="_blank" rel="noopener noreferrer" href="https://www.apollographql.com/docs/react/caching/advanced-topics/#cache-redirects">Cache redirect</a>를 통해서 cache에서 읽어오거나 fetchPolicies를 cache-only로 설정해볼 수 있습니다</p><p><strong>Q. page에 진입할 때 정보들이 이미 cache되어 있어서 새로운 정보를 못받아오면 어떡하나요</strong></p><p>→ db에 업데이트가 있었으면 Apollo client가 새로운 정보를 받아오고 자동으로 re-render까지 합니다</p><h2 id="apollo가-cache하기-위한-조건"><a href="#apollo가-cache하기-위한-조건" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Apollo가 cache하기 위한 조건</h2><h3 id="tldr"><a href="#tldr" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>TL;DR</h3><ol><li>path가 같은 결과를 보장할 것이라 전제하기에 query들끼리 path가 같으면 cache하려고 합니다</li><li>query path 자체가 같은 결과를 보장해야하지만 값이 다를 경우(e.g. 변수를 받고 변수에 따른 다른 결과를 줄 경우)에는 object identifier를 이용해서 cache할 수 있습니다.</li><li>1,2번 아무것도 충족하지 못할 경우 debugger에 warning이 뜹니다. 해결 방법도 같이 나오니 참고해서 fieldpolicy를 수정합시다</li><li>모든 path에 id를 쓰기 싫다면 → fetchMore와 updateQueries으로 해결해볼 수 있습니다</li><li>db에서 데이터 업데이트가 있을 경우 apollo client가 자동으로 새로운 데이터를 cache에 할당해주고 re-rendering까지 합니다.</li></ol><p>Apollo Client는 application data graph안에서 각 path는 안정된 정보를 가르키는 것을 전제합니다. → <mark>같은 path는 같은 정보를 return할 것이라 가정합니다</mark></p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line"><span class="token keyword">query</span> <span class="token function definition-query">particularAuthor</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property-query">author</span><span class="token punctuation">(</span><span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">&quot;Thomas Piketty&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">name</span>
</span><span class="code-line">    <span class="token property">age</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line"><span class="token keyword">query</span> <span class="token function definition-query">authorAndBook</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property-query">book</span><span class="token punctuation">(</span><span class="token attr-name">isbn</span><span class="token punctuation">:</span> <span class="token string">&quot;9780674430006&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">title</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token property-query">author</span><span class="token punctuation">(</span><span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">&quot;Thomas Piketty&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">name</span>
</span><span class="code-line">    <span class="token property">age</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>위 query에서 <code>RootQuery→author(name: &quot;Thomas Piketty&quot;)→name, age</code> 가 현재 겹치는 path입니다</p><p>하지만 id는 변수이기 때문에 <code>author → name</code> 에 해당하는 path는 서로 다른 정보를 가르키는 path로 인식하고 해당 정보들을 병합하는게 apollo의 기획 의도이지만 병합되면 안되고 개별로 cache하려면 다음과 같은 방법을 시도 할 수 있습니다</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line"><span class="token keyword">query</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property-query">author</span><span class="token punctuation">(</span><span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token string">&quot;Arthur Goldhammer&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token object">coauthors</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">name</span> // <span class="token property">db</span>에서 <span class="token property-query">author</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> &#x27;<span class="token number">5</span>&#x27;<span class="token punctuation">)</span>와 같은 데이터
</span><span class="code-line">      <span class="token property">id</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">query</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property-query">author</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">name</span>
</span><span class="code-line">    <span class="token property">id</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>예로들어 위 query는 모두 같은 정보를 가르키는 path를 가지지만 Apollo는 이걸 구별할 방법이 없습니다.</p><p>그래서 object identifier를 사용하게 됩니다. 공식문서에 따르면 Apollo Client는 동일한 object identifier를 가지고 있는 모든 object는 같은 정보를 가르킬 것이라 가정하기 때문입니다.</p><p>id를 통해서 path를 재정렬하게 되고, 최종적으로는 id별로 개별 저장하며 [Thomas Piketty, 5]라는 캐시를 두번 저장하지 않고 deduplicate해서 저장하게 됩니다.</p><hr/><h2 id="apollo가-cache-하는-방법"><a href="#apollo가-cache-하는-방법" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Apollo가 cache 하는 방법</h2><h3 id="tldr-1"><a href="#tldr-1" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>TL;DR</h3><ol><li>id가 없으면 cache할 수 있도록 유사 id인 keyFields를 사용해서 cache할 수 있습니다</li><li>network request을 할지 read from cache를 할지는 선택해야 합니다</li><li>read from cache를 선택한 경우에는 <a target="_blank" rel="noopener noreferrer" href="https://www.apollographql.com/docs/react/data/queries/#supported-fetch-policies">Fetch Policies</a>와 <a target="_blank" rel="noopener noreferrer" href="https://www.apollographql.com/docs/react/caching/advanced-topics/#cache-redirects">Cache redirect</a>라는 선택지가 2개 있습니다</li><li>mutation은 아래에 정리된 경우의 수에 따라 적절히 cache를 업데이트 해주어야 refetch 때 request를 줄일 수 있습니다</li></ol><p>앞서 db에서 데이터 업데이트가 있을 경우 자동으로 query에 할당하고 re-render도 해준다고 했지만 다시 받아온 data를 cache할 수 있는지는 다른 문제입니다</p><p>know when to re-fetch data vs. when to return what’s already cached (rest의 상황에서는)</p><mark>→ when to pull from the cache vs. when to make network requests (apollo에서는)</mark><p>이걸 고려해야하는 이유는 apollo가 query path가 중복될 경우에 request 자체를 intercept해서 deduplicate할 수 있기 때문에 그리고 mutation 이후에도 자동으로 cache를 업데이트 할 수 있기 때문입니다</p><h3 id="query"><a href="#query" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Query</h3><p>정보의 끝단에 id가 없을 경우에 <strong>reliably establish uniqueness</strong> for each items을 하기 위해서 keyFields를 사용할 수도 있습니다. 일종의 id alias나 fallback같은 느낌입니다</p><p><strong>keyFields</strong> : id가 없는 item 중에서 한개의 field를 id처럼 쓰는 것, 혹은 fallback들을 지정해 여러 field도, nested으로도 가능</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;__typename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Todo&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;First todo&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;completed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2020-07-08T15:05:32.248Z&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token string">&quot;me@apollographql.com&quot;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>와 같이 id 가 없을 경우</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line">  <span class="token attr-name">typePolicies</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token attr-name">Todo</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      // <span class="token property">If</span> <span class="token property">one</span> <span class="token property">of</span> <span class="token property">the</span> <span class="token property">keyFields</span> <span class="token property">is</span> <span class="token property">an</span> <span class="token property">object</span> <span class="token property">with</span> <span class="token property">fields</span> <span class="token property">of</span> <span class="token property">its</span> <span class="token property">own</span><span class="token punctuation">,</span> <span class="token property">you</span> <span class="token property">can</span>
</span><span class="code-line">      // <span class="token property">include</span> <span class="token property">those</span> <span class="token property">nested</span> <span class="token property">keyFields</span> <span class="token property">by</span> <span class="token property">using</span> <span class="token property">a</span> <span class="token property">nested</span> <span class="token property">array</span> <span class="token property">of</span> <span class="token attr-name">strings</span><span class="token punctuation">:</span>
</span><span class="code-line">      <span class="token attr-name">keyFields</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;date&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>;
</span></code></pre></div><p>우선적으로 date를 id처럼 사용하려고 하고 그래도 중복이 있을 경우 다음에 user... 등으로 나아가다가 아래와 같이 저장하게 됩니다</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line">Todo<span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;date&quot;</span><span class="token operator">:</span><span class="token string">&quot;2020-07-08T15:05:32.248Z&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;email&quot;</span><span class="token operator">:</span><span class="token string">&quot;me@apollographql.com&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</span></code></pre></div><p><strong>fetchPolicies:</strong> cache되지 않았거나 cache된 것 보다 더 많은 field를 요구할 경우 새로이 request를 보내고 다시 cache하게 됩니다. 이때의 행동 자체를 조절할 수 있는 옵션입니다</p><p>defaut값인 cache-first는 아래와 같이 행동합니다</p><ol><li><code>GetTodoById</code> query를 <code>id: 1</code>로 받아옴, 이걸 cache함</li><li><code>GetTodoById</code> query를 또 다시 <code>id: 1</code>으로 받으려고 하면 path도 같고 정보도 같기에 request 보내지 않음</li></ol><p>하지만 다른 경우로는</p><ol><li><code>GetAllTodos</code> query를 통해 <code>모든 id</code>를 가진 Todo들을 받아옴, 이걸 cache함</li><li><code>GetTodoById</code> query를 통해 <code>id: 1</code>으로 받으려고 하면, request를 보내서 받아옴</li><li>여기서 request를 보내는 이유는 <code>GetAllTodos</code>와 <code>GetTodoById</code> 가 path는 같을지언정 id 마저 같을 거라고 apollo가 가정하지 않았기 때문입니다</li></ol><p>이 행동이 마음에 들지 않으면 fetchPolicies를 다르게 설정하거나 <a target="_blank" rel="noopener noreferrer" href="https://www.apollographql.com/docs/react/caching/advanced-topics/#cache-redirects">Cache redirect</a> 을 통해서 해결하라고 합니다</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token property literal-property">Query</span><span class="token operator">:</span><span class="token punctuation">{</span>
</span><span class="code-line">   fields<span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">getZone</span><span class="token operator">:</span><span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token function">read</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> <span class="token punctuation">{</span>args<span class="token punctuation">,</span> toReference<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
</span><span class="code-line">                <span class="token keyword control-flow">return</span> <span class="token function">toReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">                    <span class="token property literal-property">__typename</span><span class="token operator">:</span> <span class="token string">&#x27;Zone&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">                    <span class="token property literal-property">_id</span><span class="token operator">:</span> args<span class="token punctuation">.</span><span class="token property-access">_id</span><span class="token punctuation">,</span>
</span><span class="code-line">                <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">            <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">   <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> result <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function property-access method">readQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">   <span class="token property literal-property">query</span><span class="token operator">:</span> <span class="token constant">GET_ZONE</span><span class="token punctuation">,</span>
</span><span class="code-line">   <span class="token property literal-property">variables</span><span class="token operator">:</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">_id</span><span class="token operator">:</span> <span class="token string">&#x27;foo&#x27;</span>
</span><span class="code-line">   <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><h3 id="mutation"><a href="#mutation" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Mutation</h3><ol><li>updates a single existing entity</li><li>modifies multiple entities</li><li>creates</li><li>deletes</li><li>Application-specific side-effects</li></ol><p>첫번째인 <strong>updates a single existing entity</strong>의 경우는 쉽습니다</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line"><span class="token keyword">mutation</span> <span class="token function definition-mutation">EditTodo</span><span class="token punctuation">(</span><span class="token variable variable-input">$id</span><span class="token punctuation">:</span> <span class="token scalar">Int</span><span class="token operator">!</span><span class="token punctuation">,</span> <span class="token variable variable-input">$text</span><span class="token punctuation">:</span> <span class="token scalar">String</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property-query property-mutation">editTodo</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token variable variable-input">$id</span><span class="token punctuation">,</span> <span class="token attr-name">text</span><span class="token punctuation">:</span> <span class="token variable variable-input">$text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">success</span>
</span><span class="code-line">    <span class="token object">todo</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment"># &lt;- Returning it here</span>
</span><span class="code-line">      <span class="token property">id</span>
</span><span class="code-line">      <span class="token property">text</span>
</span><span class="code-line">      <span class="token property">completed</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>은 반환값에 id, text 둘 다 있기에, id를 비교해서 cache에서 찾고 새로운 값으로 update해줍니다</p><p>두번째인 <strong>modifies multiple entities</strong>도 마찬가지로 반환값에 id + 변화된 값들을 포함하고 있으면 첫번째와 같은 과정으로 update해줍니다. 하지만 변화된 값들을 전부 포함하지 않고 있다면 직접 업데이트 해주어야 합니다</p><p>세번째인 <strong>creates</strong>의 경우에는 참고할 cache의 id가 없기에 자동으로 업데이트가 되지 않습니다 아래의 예시와 같이 직접 cache에 업데이트 해주어야 합니다</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>mutate<span class="token punctuation">,</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> error <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> useMutation<span class="token operator">&lt;</span>
</span><span class="code-line">    <span class="token maybe-class-name">AddTodoTypes</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">AddTodo</span></span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token maybe-class-name">AddTodoTypes</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">AddTodoVariables</span></span>
</span><span class="code-line">  <span class="token operator">&gt;</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token constant">ADD_TODO</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">update</span> <span class="token punctuation">(</span><span class="token parameter">cache<span class="token punctuation">,</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">const</span> newTodoFromResponse <span class="token operator">=</span> data<span class="token operator">?.</span>addTodo<span class="token punctuation">.</span><span class="token property-access">todo</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token keyword">const</span> existingTodos <span class="token operator">=</span> cache<span class="token punctuation">.</span><span class="token property-access">readQuery</span><span class="token operator">&lt;</span><span class="token maybe-class-name">GetAllTodos</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token property literal-property">query</span><span class="token operator">:</span> <span class="token constant">GET_ALL_TODOS</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>existingTodos <span class="token operator">&amp;&amp;</span> newTodoFromResponse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          cache<span class="token punctuation">.</span><span class="token function property-access method">writeQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token property literal-property">query</span><span class="token operator">:</span> <span class="token constant">GET_ALL_TODOS</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token property literal-property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">              <span class="token property literal-property">todos</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">                <span class="token operator spread">...</span>existingTodos<span class="token operator">?.</span>todos<span class="token punctuation">,</span>
</span><span class="code-line">                newTodoFromResponse<span class="token punctuation">,</span>
</span><span class="code-line">              <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">            <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span></code></pre></div><p>네번째인 <strong>deletes</strong>도 cache를 업데이트를 하지 않기에 직접 업데이트 해주어야 합니다</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">[</span>mutate<span class="token punctuation">,</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> error <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> useMutation<span class="token operator">&lt;</span>
</span><span class="code-line">  <span class="token maybe-class-name">DeleteTodoTypes</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">DeleteTodo</span></span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token maybe-class-name">DeleteTodoTypes</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">DeleteTodoVariables</span></span>
</span><span class="code-line"><span class="token operator">&gt;</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token constant">DELETE_TODO</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">update</span> <span class="token punctuation">(</span><span class="token parameter">cache<span class="token punctuation">,</span> el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> deletedId <span class="token operator">=</span> el<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token operator">?.</span>deleteTodo<span class="token punctuation">.</span><span class="token property-access">todo</span><span class="token operator">?.</span>id
</span><span class="code-line">      <span class="token keyword">const</span> allTodos <span class="token operator">=</span> cache<span class="token punctuation">.</span><span class="token property-access">readQuery</span><span class="token operator">&lt;</span><span class="token maybe-class-name">GetAllTodos</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token property literal-property">query</span><span class="token operator">:</span> <span class="token constant">GET_ALL_TODOS</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">      cache<span class="token punctuation">.</span><span class="token function property-access method">writeQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">query</span><span class="token operator">:</span> <span class="token constant">GET_ALL_TODOS</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token property literal-property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token property literal-property">todos</span><span class="token operator">:</span> allTodos<span class="token operator">?.</span>todos<span class="token punctuation">.</span><span class="token function property-access method">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> t<span class="token operator">?.</span>id <span class="token operator">!==</span> deletedId<span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">      cache<span class="token punctuation">.</span><span class="token function property-access method">evict</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token property literal-property">id</span><span class="token operator">:</span> el<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token operator">?.</span>deleteTodo<span class="token punctuation">.</span><span class="token property-access">todo</span><span class="token operator">?.</span>id <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span></code></pre></div><p>마지막으로 <strong>Application-specific side-effects</strong> 예로 들어 logout같은 mutation은 cache할 필요가 없습니다. 다만 이때 모든 cache를 evict할 수 있도록 업데이트 시켜 줄 수 있는 선택지가 있습니다</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword">const</span> <span class="token constant">LOGOUT</span> <span class="token operator">=</span> gql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">mutation</span> <span class="token function definition-mutation">Logout</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token object">logout</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token property">success</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token property">message</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function function-variable"><span class="token maybe-class-name">Navbar</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>logout<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useMutation</span><span class="token punctuation">(</span><span class="token constant">LOGOUT</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      client<span class="token punctuation">.</span><span class="token function property-access method">clearStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword control-flow">return</span> <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><hr/><h2 id="cache를-관리하는-방법"><a href="#cache를-관리하는-방법" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Cache를 관리하는 방법</h2><ol><li>merge</li><li>read</li><li>specifying key arguments</li></ol><p>세가지가 있지만 read와 specifying key arguments은 나중에 필요해지만 그때 추가하도록 하겠습니다</p><h3 id="merge"><a href="#merge" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Merge</h3><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line"><span class="token keyword">query</span> <span class="token function definition-query">BookWithAuthorName</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token object">favoriteBook</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">id</span>
</span><span class="code-line">    <span class="token object">author</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">name</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">query</span> <span class="token function definition-query">BookWithAuthorBirthdate</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token object">favoriteBook</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">id</span>
</span><span class="code-line">    <span class="token object">author</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">dateOfBirth</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>위 두 query를 보면 path는 거의 동일하지만 마지만 field만 서로 다릅니다. 하지만 결국은 다른 path이기에 apollo는</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;__typename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;abc123&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;__typename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Author&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;George Eliot&quot;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>위와 같은 형태로 먼저 cache에 저장해두고 다음으로 <code>dateOfBirth</code>를 요청하는 query를 보냅니다</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;__typename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;abc123&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;__typename&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Author&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;dateOfBirth&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1819-11-22&quot;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>위와 같은 cache를 저장해야 하지만 이미 같은 id를 가진 cache object가 있기에 서로 충돌이 납니다. 그리고 이때 apollo의 default 행동은 단순히 마지막 cache로 override하는 것입니다. 그렇게 된다면 <code>name</code>에 해당하는 cache는 날라가 버릴테고 다시 해당 query를 부르는 page로 갔을 때는 cache에서 <code>name</code>을 참조하지 못했기 때문에 다시 request를 보내는 악순환이 생기게 됩니다</p><p>이럴 때 사용하게 되는 것이 <strong>merge</strong>입니다.</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InMemoryCache</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">typePolicies</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">Book</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property literal-property">fields</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">author</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token comment">// 더 자세하게 조정하고 싶으면 이와 같이</span>
</span><span class="code-line">          <span class="token function">merge</span><span class="token punctuation">(</span><span class="token parameter">existing<span class="token punctuation">,</span> incoming<span class="token punctuation">,</span> <span class="token punctuation">{</span> mergeObjects <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token keyword control-flow">return</span> <span class="token function">mergeObjects</span><span class="token punctuation">(</span>existing<span class="token punctuation">,</span> incoming<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">          <span class="token comment">// 위와 같이 object형태로 합치는 것만을 원하면 boolean</span>
</span><span class="code-line">          <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">merge: true,</span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>위와 같이 path가 비슷하지만 field가 달라 object 형태로 합치는 것 외에도 merge는 다음과 같이 사용될 수 있습니다</p><p>아직 저희 app에는 없지만 <a target="_blank" rel="noopener noreferrer" href="https://www.apollographql.com/docs/react/caching/cache-field-behavior/#handling-pagination">paginated list</a> 를 구현할 때처럼 cache가 array형태로 저장되어야 할때는</p><div class="relative"><pre><code class="code-highlight language-js"><span class="code-line"><span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InMemoryCache</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">typePolicies</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">Agenda</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property literal-property">fields</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property literal-property">tasks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token function">merge</span><span class="token punctuation">(</span><span class="token parameter">existing <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token property literal-property">incoming</span><span class="token operator">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token keyword control-flow">return</span> <span class="token punctuation">[</span><span class="token operator spread">...</span>existing<span class="token punctuation">,</span> <span class="token operator spread">...</span>incoming<span class="token punctuation">]</span>
</span><span class="code-line">          <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre></div><p>와 같이 array를 연장할 수도 있습니다</p><hr/><h2 id="ref"><a href="#ref" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Ref</h2><ol><li><a target="_blank" rel="noopener noreferrer" href="https://www.apollographql.com/blog/graphql/basics/the-concepts-of-graphql/">GraphQL Concepts Visualized - Apollo GraphQL Blog</a> ★★★★★</li><li><a target="_blank" rel="noopener noreferrer" href="https://www.apollographql.com/blog/apollo-client/caching/demystifying-cache-normalization/#operations-the-cache-cannot-automatically-update">Demystifying Cache Normalization - Apollo GraphQL Blog</a> ★★★★★</li><li><a target="_blank" rel="noopener noreferrer" href="https://www.apollographql.com/docs/react/caching/cache-field-behavior/#the-merge-function">Customizing the behavior of cached fields - Apollo GraphQL Docs</a> ★★★★</li><li><a target="_blank" rel="noopener noreferrer" href="https://crmrelease.tistory.com/140">[정리] Apollo client 캐시(cache)사용</a> ★</li><li><a target="_blank" rel="noopener noreferrer" href="https://morethanmin.com/post/apollo-gettings-started-mutate">apollo에서 비동기 상태 관리하는 방식 알아보기 | morethanmin</a> ★★</li><li><a target="_blank" rel="noopener noreferrer" href="https://www.apollographql.com/blog/apollo-client/architecture/redux-to-apollo-data-access-patterns/">Redux to Apollo: Data Access Patterns - Apollo GraphQL Blog</a> ★★★</li></ol></div></div><footer><div class="flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base"><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/outlet-lazy-load">← <!-- -->Outlet &amp; Lazy load</a></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog/rxjs-intro-1">rxjs intro - 1<!-- --> →</a></div></div></footer></div></div></article></div></main></div><footer><div class="mt-16 flex flex-col "><div class="mb-4 text-sm font-bold text-stone-300"><span>Frontend Engineer, </span><span>SiYoon</span></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var r=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var t=a=\u003el(a,\"__esModule\",{value:!0});var N=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),u=(a,s)=\u003e{t(a);for(var c in s)l(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of d(s))!m.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026l(a,n,{get:()=\u003es[n],enumerable:!(c=p(s,n))||c.enumerable});return a},g=a=\u003ek(t(l(a!=null?r(h(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var i=N((T,o)=\u003e{o.exports=_jsx_runtime});var w={};u(w,{default:()=\u003eq,frontmatter:()=\u003ey});var e=g(i()),y={title:\"Apollo Cache\",date:\"2023-05-10\",tags:[\"apollo\",\"graphql\",\"cache\",\"tip'\"],draft:!1,summary:\"apollo cache\\uC758 mechanism\\uACFC \\uC5B4\\uB5BB\\uAC8C \\uAD00\\uB9AC\\uD558\\uB294\\uC9C0\",images:[],layout:\"PostSimple\",canonicalUrl:null,authors:[\"default\"]};function f(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",p:\"p\",strong:\"strong\",h2:\"h2\",h3:\"h3\",ol:\"ol\",li:\"li\",pre:\"pre\",code:\"code\",hr:\"hr\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h1,{id:\"qa\",children:[(0,e.jsx)(n.a,{href:\"#qa\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"QA\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Q. \\uC5B8\\uC81C \\uC2E0\\uACBD \\uC368\\uC57C \\uD560\\uAE4C\\uC694\"})}),(0,e.jsx)(n.p,{children:\"\\u2192 query\\uB9CC \\uD560 \\uACBD\\uC6B0\\uC5D0\\uB294 id\\uB9CC \\uD655\\uC778\\uD558\\uACE0, debugger\\uC5D0 warning\\uC774 \\uB730\\uB54C\\uAE4C\\uC9C0\\uB294 \\uC2E0\\uACBD\\uC548\\uC368\\uB3C4 \\uB420 \\uAC83 \\uAC19\\uC2B5\\uB2C8\\uB2E4. \\uB2E4\\uB9CC mutation\\uD560\\uB54C CRUD\\uC911 CD\\uD560\\uB54C cache\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD558\\uB294 \\uAC83\\uC774 \\uC88B\\uC2B5\\uB2C8\\uB2E4 \\u2192 \\uB610\\uD55C mutation\\uC2DC update\\uB420 \\uBAA8\\uB4E0 field\\uB97C \\uBC18\\uD658\\uD558\\uB3C4\\uB85D \\uD558\\uB294 \\uAC83\\uC744 \\uC78A\\uC9C0 \\uB9C8\\uC138\\uC694\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Q. page\\uC5D0 \\uAC19\\uC740 path\\uB97C \\uAC00\\uC9C4 query\\uB4E4 \\uBFD0\\uC778\\uB370 \\uC65C cache\\uC5D0\\uC11C \\uC77D\\uC5B4\\uC624\\uC9C0 \\uC54A\\uACE0 network request\\uB97C \\uBCF4\\uB0B4\\uB294 \\uAC74\\uAC00\\uC694\"})}),(0,e.jsxs)(n.p,{children:[\"\\u2192 path\\uC5D0 \\uBCC0\\uC218\\uAC00 \\uC788\\uC744 \\uACBD\\uC6B0 \\uAC19\\uC740 path\\uB85C \\uCDE8\\uAE09\\uD558\\uC9C0 \\uC54A\\uAE30\\uC5D0 \\uC77C\\uB2E8 network request\\uB97C \\uBCF4\\uB0B4\\uBCF4\\uACE0, \\uB098\\uC911\\uC5D0 object identifier\\uB97C \\uD1B5\\uD574\\uC11C \\uB2E4\\uC74C fetch\\uB54C \\uC644\\uC804\\uD788 \\uAC19\\uC740 \\uC815\\uBCF4\\uB97C \\uBC1B\\uC544\\uC628\\uB2E4\\uBA74 \\uADF8\\uB54C\\uB294 request\\uB97C \\uBCF4\\uB0B4\\uC9C0 \\uC54A\\uC744 \\uAC81\\uB2C8\\uB2E4 \\u2192 \\uB9CC\\uC57D \\uC774\\uC804 page\\uC5D0\\uC11C \\uC774\\uBBF8 \\uD544\\uC694\\uD55C \\uC815\\uBCF4\\uB4E4\\uC744 \\uBC1B\\uC558\\uB2E4\\uBA74 \\uADF8\\uB550 query\\uBB38\\uC744 \\uC791\\uC131\\uD558\\uB294\\uAC8C \\uC544\\uB2C8\\uB77C \",(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/caching/advanced-topics/#cache-redirects\",children:\"Cache redirect\"}),\"\\uB97C \\uD1B5\\uD574\\uC11C cache\\uC5D0\\uC11C \\uC77D\\uC5B4\\uC624\\uAC70\\uB098 fetchPolicies\\uB97C cache-only\\uB85C \\uC124\\uC815\\uD574\\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.strong,{children:\"Q. page\\uC5D0 \\uC9C4\\uC785\\uD560 \\uB54C \\uC815\\uBCF4\\uB4E4\\uC774 \\uC774\\uBBF8 cache\\uB418\\uC5B4 \\uC788\\uC5B4\\uC11C \\uC0C8\\uB85C\\uC6B4 \\uC815\\uBCF4\\uB97C \\uBABB\\uBC1B\\uC544\\uC624\\uBA74 \\uC5B4\\uB5A1\\uD558\\uB098\\uC694\"})}),(0,e.jsx)(n.p,{children:\"\\u2192 db\\uC5D0 \\uC5C5\\uB370\\uC774\\uD2B8\\uAC00 \\uC788\\uC5C8\\uC73C\\uBA74 Apollo client\\uAC00 \\uC0C8\\uB85C\\uC6B4 \\uC815\\uBCF4\\uB97C \\uBC1B\\uC544\\uC624\\uACE0 \\uC790\\uB3D9\\uC73C\\uB85C re-render\\uAE4C\\uC9C0 \\uD569\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.h2,{id:\"apollo\\uAC00-cache\\uD558\\uAE30-\\uC704\\uD55C-\\uC870\\uAC74\",children:[(0,e.jsx)(n.a,{href:\"#apollo\\uAC00-cache\\uD558\\uAE30-\\uC704\\uD55C-\\uC870\\uAC74\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Apollo\\uAC00 cache\\uD558\\uAE30 \\uC704\\uD55C \\uC870\\uAC74\"]}),(0,e.jsxs)(n.h3,{id:\"tldr\",children:[(0,e.jsx)(n.a,{href:\"#tldr\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"TL;DR\"]}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"path\\uAC00 \\uAC19\\uC740 \\uACB0\\uACFC\\uB97C \\uBCF4\\uC7A5\\uD560 \\uAC83\\uC774\\uB77C \\uC804\\uC81C\\uD558\\uAE30\\uC5D0 query\\uB4E4\\uB07C\\uB9AC path\\uAC00 \\uAC19\\uC73C\\uBA74 cache\\uD558\\uB824\\uACE0 \\uD569\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.li,{children:\"query path \\uC790\\uCCB4\\uAC00 \\uAC19\\uC740 \\uACB0\\uACFC\\uB97C \\uBCF4\\uC7A5\\uD574\\uC57C\\uD558\\uC9C0\\uB9CC \\uAC12\\uC774 \\uB2E4\\uB97C \\uACBD\\uC6B0(e.g. \\uBCC0\\uC218\\uB97C \\uBC1B\\uACE0 \\uBCC0\\uC218\\uC5D0 \\uB530\\uB978 \\uB2E4\\uB978 \\uACB0\\uACFC\\uB97C \\uC904 \\uACBD\\uC6B0)\\uC5D0\\uB294 object identifier\\uB97C \\uC774\\uC6A9\\uD574\\uC11C cache\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"1,2\\uBC88 \\uC544\\uBB34\\uAC83\\uB3C4 \\uCDA9\\uC871\\uD558\\uC9C0 \\uBABB\\uD560 \\uACBD\\uC6B0 debugger\\uC5D0 warning\\uC774 \\uB739\\uB2C8\\uB2E4. \\uD574\\uACB0 \\uBC29\\uBC95\\uB3C4 \\uAC19\\uC774 \\uB098\\uC624\\uB2C8 \\uCC38\\uACE0\\uD574\\uC11C fieldpolicy\\uB97C \\uC218\\uC815\\uD569\\uC2DC\\uB2E4\"}),(0,e.jsx)(n.li,{children:\"\\uBAA8\\uB4E0 path\\uC5D0 id\\uB97C \\uC4F0\\uAE30 \\uC2EB\\uB2E4\\uBA74 \\u2192 fetchMore\\uC640 updateQueries\\uC73C\\uB85C \\uD574\\uACB0\\uD574\\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.li,{children:\"db\\uC5D0\\uC11C \\uB370\\uC774\\uD130 \\uC5C5\\uB370\\uC774\\uD2B8\\uAC00 \\uC788\\uC744 \\uACBD\\uC6B0 apollo client\\uAC00 \\uC790\\uB3D9\\uC73C\\uB85C \\uC0C8\\uB85C\\uC6B4 \\uB370\\uC774\\uD130\\uB97C cache\\uC5D0 \\uD560\\uB2F9\\uD574\\uC8FC\\uACE0 re-rendering\\uAE4C\\uC9C0 \\uD569\\uB2C8\\uB2E4.\"})]}),(0,e.jsxs)(n.p,{children:[\"Apollo Client\\uB294 application data graph\\uC548\\uC5D0\\uC11C \\uAC01 path\\uB294 \\uC548\\uC815\\uB41C \\uC815\\uBCF4\\uB97C \\uAC00\\uB974\\uD0A4\\uB294 \\uAC83\\uC744 \\uC804\\uC81C\\uD569\\uB2C8\\uB2E4. \\u2192 \",(0,e.jsx)(\"mark\",{children:\"\\uAC19\\uC740 path\\uB294 \\uAC19\\uC740 \\uC815\\uBCF4\\uB97C return\\uD560 \\uAC83\\uC774\\uB77C \\uAC00\\uC815\\uD569\\uB2C8\\uB2E4\"})]}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-query\",children:\"particularAuthor\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"author\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Thomas Piketty\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"age\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-query\",children:\"authorAndBook\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"book\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"isbn\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"9780674430006\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"title\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"author\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Thomas Piketty\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"age\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uC704 query\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:'RootQuery\\u2192author(name: \"Thomas Piketty\")\\u2192name, age'}),\" \\uAC00 \\uD604\\uC7AC \\uACB9\\uCE58\\uB294 path\\uC785\\uB2C8\\uB2E4\"]}),(0,e.jsxs)(n.p,{children:[\"\\uD558\\uC9C0\\uB9CC id\\uB294 \\uBCC0\\uC218\\uC774\\uAE30 \\uB54C\\uBB38\\uC5D0 \",(0,e.jsx)(n.code,{children:\"author \\u2192 name\"}),\" \\uC5D0 \\uD574\\uB2F9\\uD558\\uB294 path\\uB294 \\uC11C\\uB85C \\uB2E4\\uB978 \\uC815\\uBCF4\\uB97C \\uAC00\\uB974\\uD0A4\\uB294 path\\uB85C \\uC778\\uC2DD\\uD558\\uACE0 \\uD574\\uB2F9 \\uC815\\uBCF4\\uB4E4\\uC744 \\uBCD1\\uD569\\uD558\\uB294\\uAC8C apollo\\uC758 \\uAE30\\uD68D \\uC758\\uB3C4\\uC774\\uC9C0\\uB9CC \\uBCD1\\uD569\\uB418\\uBA74 \\uC548\\uB418\\uACE0 \\uAC1C\\uBCC4\\uB85C cache\\uD558\\uB824\\uBA74 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uBC29\\uBC95\\uC744 \\uC2DC\\uB3C4 \\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"author\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Arthur Goldhammer\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"coauthors\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),\" // \",(0,e.jsx)(n.span,{className:\"token property\",children:\"db\"}),\"\\uC5D0\\uC11C \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"author\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" '\",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),\"'\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\\uC640 \\uAC19\\uC740 \\uB370\\uC774\\uD130\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"author\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"5\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC608\\uB85C\\uB4E4\\uC5B4 \\uC704 query\\uB294 \\uBAA8\\uB450 \\uAC19\\uC740 \\uC815\\uBCF4\\uB97C \\uAC00\\uB974\\uD0A4\\uB294 path\\uB97C \\uAC00\\uC9C0\\uC9C0\\uB9CC Apollo\\uB294 \\uC774\\uAC78 \\uAD6C\\uBCC4\\uD560 \\uBC29\\uBC95\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uADF8\\uB798\\uC11C object identifier\\uB97C \\uC0AC\\uC6A9\\uD558\\uAC8C \\uB429\\uB2C8\\uB2E4. \\uACF5\\uC2DD\\uBB38\\uC11C\\uC5D0 \\uB530\\uB974\\uBA74 Apollo Client\\uB294 \\uB3D9\\uC77C\\uD55C object identifier\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uB294 \\uBAA8\\uB4E0 object\\uB294 \\uAC19\\uC740 \\uC815\\uBCF4\\uB97C \\uAC00\\uB974\\uD0AC \\uAC83\\uC774\\uB77C \\uAC00\\uC815\\uD558\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"id\\uB97C \\uD1B5\\uD574\\uC11C path\\uB97C \\uC7AC\\uC815\\uB82C\\uD558\\uAC8C \\uB418\\uACE0, \\uCD5C\\uC885\\uC801\\uC73C\\uB85C\\uB294 id\\uBCC4\\uB85C \\uAC1C\\uBCC4 \\uC800\\uC7A5\\uD558\\uBA70 [Thomas Piketty, 5]\\uB77C\\uB294 \\uCE90\\uC2DC\\uB97C \\uB450\\uBC88 \\uC800\\uC7A5\\uD558\\uC9C0 \\uC54A\\uACE0 deduplicate\\uD574\\uC11C \\uC800\\uC7A5\\uD558\\uAC8C \\uB429\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h2,{id:\"apollo\\uAC00-cache-\\uD558\\uB294-\\uBC29\\uBC95\",children:[(0,e.jsx)(n.a,{href:\"#apollo\\uAC00-cache-\\uD558\\uB294-\\uBC29\\uBC95\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Apollo\\uAC00 cache \\uD558\\uB294 \\uBC29\\uBC95\"]}),(0,e.jsxs)(n.h3,{id:\"tldr-1\",children:[(0,e.jsx)(n.a,{href:\"#tldr-1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"TL;DR\"]}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"id\\uAC00 \\uC5C6\\uC73C\\uBA74 cache\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uC720\\uC0AC id\\uC778 keyFields\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C cache\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.li,{children:\"network request\\uC744 \\uD560\\uC9C0 read from cache\\uB97C \\uD560\\uC9C0\\uB294 \\uC120\\uD0DD\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.li,{children:[\"read from cache\\uB97C \\uC120\\uD0DD\\uD55C \\uACBD\\uC6B0\\uC5D0\\uB294 \",(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/data/queries/#supported-fetch-policies\",children:\"Fetch Policies\"}),\"\\uC640 \",(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/caching/advanced-topics/#cache-redirects\",children:\"Cache redirect\"}),\"\\uB77C\\uB294 \\uC120\\uD0DD\\uC9C0\\uAC00 2\\uAC1C \\uC788\\uC2B5\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.li,{children:\"mutation\\uC740 \\uC544\\uB798\\uC5D0 \\uC815\\uB9AC\\uB41C \\uACBD\\uC6B0\\uC758 \\uC218\\uC5D0 \\uB530\\uB77C \\uC801\\uC808\\uD788 cache\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD574\\uC8FC\\uC5B4\\uC57C refetch \\uB54C request\\uB97C \\uC904\\uC77C \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"})]}),(0,e.jsx)(n.p,{children:\"\\uC55E\\uC11C db\\uC5D0\\uC11C \\uB370\\uC774\\uD130 \\uC5C5\\uB370\\uC774\\uD2B8\\uAC00 \\uC788\\uC744 \\uACBD\\uC6B0 \\uC790\\uB3D9\\uC73C\\uB85C query\\uC5D0 \\uD560\\uB2F9\\uD558\\uACE0 re-render\\uB3C4 \\uD574\\uC900\\uB2E4\\uACE0 \\uD588\\uC9C0\\uB9CC \\uB2E4\\uC2DC \\uBC1B\\uC544\\uC628 data\\uB97C cache\\uD560 \\uC218 \\uC788\\uB294\\uC9C0\\uB294 \\uB2E4\\uB978 \\uBB38\\uC81C\\uC785\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.p,{children:\"know when to re-fetch data vs. when to return what\\u2019s already cached (rest\\uC758 \\uC0C1\\uD669\\uC5D0\\uC11C\\uB294)\"}),(0,e.jsx)(\"mark\",{children:\"\\u2192 when to pull from the cache vs. when to make network requests (apollo\\uC5D0\\uC11C\\uB294)\"}),(0,e.jsx)(n.p,{children:\"\\uC774\\uAC78 \\uACE0\\uB824\\uD574\\uC57C\\uD558\\uB294 \\uC774\\uC720\\uB294 apollo\\uAC00 query path\\uAC00 \\uC911\\uBCF5\\uB420 \\uACBD\\uC6B0\\uC5D0 request \\uC790\\uCCB4\\uB97C intercept\\uD574\\uC11C deduplicate\\uD560 \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uADF8\\uB9AC\\uACE0 mutation \\uC774\\uD6C4\\uC5D0\\uB3C4 \\uC790\\uB3D9\\uC73C\\uB85C cache\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD560 \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.h3,{id:\"query\",children:[(0,e.jsx)(n.a,{href:\"#query\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Query\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC815\\uBCF4\\uC758 \\uB05D\\uB2E8\\uC5D0 id\\uAC00 \\uC5C6\\uC744 \\uACBD\\uC6B0\\uC5D0 \",(0,e.jsx)(n.strong,{children:\"reliably establish uniqueness\"}),\" for each items\\uC744 \\uD558\\uAE30 \\uC704\\uD574\\uC11C keyFields\\uB97C \\uC0AC\\uC6A9\\uD560 \\uC218\\uB3C4 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC77C\\uC885\\uC758 id alias\\uB098 fallback\\uAC19\\uC740 \\uB290\\uB08C\\uC785\\uB2C8\\uB2E4\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"keyFields\"}),\" : id\\uAC00 \\uC5C6\\uB294 item \\uC911\\uC5D0\\uC11C \\uD55C\\uAC1C\\uC758 field\\uB97C id\\uCC98\\uB7FC \\uC4F0\\uB294 \\uAC83, \\uD639\\uC740 fallback\\uB4E4\\uC744 \\uC9C0\\uC815\\uD574 \\uC5EC\\uB7EC field\\uB3C4, nested\\uC73C\\uB85C\\uB3C4 \\uAC00\\uB2A5\"]}),(0,e.jsx)(n.pre,{className:\"language-json\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-json\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"__typename\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Todo\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"text\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"First todo\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"completed\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"date\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"2020-07-08T15:05:32.248Z\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"user\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"email\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"me@apollographql.com\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC640 \\uAC19\\uC774 id \\uAC00 \\uC5C6\\uC744 \\uACBD\\uC6B0\"}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"typePolicies\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"Todo\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      // \",(0,e.jsx)(n.span,{className:\"token property\",children:\"If\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"one\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"of\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"the\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"keyFields\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"is\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"an\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"object\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"with\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"fields\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"of\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"its\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"own\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"you\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"can\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      // \",(0,e.jsx)(n.span,{className:\"token property\",children:\"include\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"those\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"nested\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"keyFields\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"by\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"using\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"a\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"nested\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"array\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"of\"}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"strings\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"keyFields\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"date\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"user\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"email\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`;\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC6B0\\uC120\\uC801\\uC73C\\uB85C date\\uB97C id\\uCC98\\uB7FC \\uC0AC\\uC6A9\\uD558\\uB824\\uACE0 \\uD558\\uACE0 \\uADF8\\uB798\\uB3C4 \\uC911\\uBCF5\\uC774 \\uC788\\uC744 \\uACBD\\uC6B0 \\uB2E4\\uC74C\\uC5D0 user... \\uB4F1\\uC73C\\uB85C \\uB098\\uC544\\uAC00\\uB2E4\\uAC00 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC800\\uC7A5\\uD558\\uAC8C \\uB429\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.pre,{className:\"language-json\",children:(0,e.jsx)(n.code,{className:\"code-highlight language-json\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"Todo\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property\",children:'\"date\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"2020-07-08T15:05:32.248Z\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),(0,e.jsx)(n.span,{className:\"token property\",children:'\"user\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property\",children:'\"email\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"me@apollographql.com\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"fetchPolicies:\"}),\" cache\\uB418\\uC9C0 \\uC54A\\uC558\\uAC70\\uB098 cache\\uB41C \\uAC83 \\uBCF4\\uB2E4 \\uB354 \\uB9CE\\uC740 field\\uB97C \\uC694\\uAD6C\\uD560 \\uACBD\\uC6B0 \\uC0C8\\uB85C\\uC774 request\\uB97C \\uBCF4\\uB0B4\\uACE0 \\uB2E4\\uC2DC cache\\uD558\\uAC8C \\uB429\\uB2C8\\uB2E4. \\uC774\\uB54C\\uC758 \\uD589\\uB3D9 \\uC790\\uCCB4\\uB97C \\uC870\\uC808\\uD560 \\uC218 \\uC788\\uB294 \\uC635\\uC158\\uC785\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.p,{children:\"defaut\\uAC12\\uC778 cache-first\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uD589\\uB3D9\\uD569\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"GetTodoById\"}),\" query\\uB97C \",(0,e.jsx)(n.code,{children:\"id: 1\"}),\"\\uB85C \\uBC1B\\uC544\\uC634, \\uC774\\uAC78 cache\\uD568\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"GetTodoById\"}),\" query\\uB97C \\uB610 \\uB2E4\\uC2DC \",(0,e.jsx)(n.code,{children:\"id: 1\"}),\"\\uC73C\\uB85C \\uBC1B\\uC73C\\uB824\\uACE0 \\uD558\\uBA74 path\\uB3C4 \\uAC19\\uACE0 \\uC815\\uBCF4\\uB3C4 \\uAC19\\uAE30\\uC5D0 request \\uBCF4\\uB0B4\\uC9C0 \\uC54A\\uC74C\"]})]}),(0,e.jsx)(n.p,{children:\"\\uD558\\uC9C0\\uB9CC \\uB2E4\\uB978 \\uACBD\\uC6B0\\uB85C\\uB294\"}),(0,e.jsxs)(n.ol,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"GetAllTodos\"}),\" query\\uB97C \\uD1B5\\uD574 \",(0,e.jsx)(n.code,{children:\"\\uBAA8\\uB4E0 id\"}),\"\\uB97C \\uAC00\\uC9C4 Todo\\uB4E4\\uC744 \\uBC1B\\uC544\\uC634, \\uC774\\uAC78 cache\\uD568\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"GetTodoById\"}),\" query\\uB97C \\uD1B5\\uD574 \",(0,e.jsx)(n.code,{children:\"id: 1\"}),\"\\uC73C\\uB85C \\uBC1B\\uC73C\\uB824\\uACE0 \\uD558\\uBA74, request\\uB97C \\uBCF4\\uB0B4\\uC11C \\uBC1B\\uC544\\uC634\"]}),(0,e.jsxs)(n.li,{children:[\"\\uC5EC\\uAE30\\uC11C request\\uB97C \\uBCF4\\uB0B4\\uB294 \\uC774\\uC720\\uB294 \",(0,e.jsx)(n.code,{children:\"GetAllTodos\"}),\"\\uC640 \",(0,e.jsx)(n.code,{children:\"GetTodoById\"}),\" \\uAC00 path\\uB294 \\uAC19\\uC744\\uC9C0\\uC5B8\\uC815 id \\uB9C8\\uC800 \\uAC19\\uC744 \\uAC70\\uB77C\\uACE0 apollo\\uAC00 \\uAC00\\uC815\\uD558\\uC9C0 \\uC54A\\uC558\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4\"]})]}),(0,e.jsxs)(n.p,{children:[\"\\uC774 \\uD589\\uB3D9\\uC774 \\uB9C8\\uC74C\\uC5D0 \\uB4E4\\uC9C0 \\uC54A\\uC73C\\uBA74 fetchPolicies\\uB97C \\uB2E4\\uB974\\uAC8C \\uC124\\uC815\\uD558\\uAC70\\uB098 \",(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/caching/advanced-topics/#cache-redirects\",children:\"Cache redirect\"}),\" \\uC744 \\uD1B5\\uD574\\uC11C \\uD574\\uACB0\\uD558\\uB77C\\uACE0 \\uD569\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"Query\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   fields\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"getZone\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token function\",children:\"read\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"_\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"args\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" toReference\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"toReference\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"__typename\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Zone'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"_id\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" args\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"_id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" result \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" client\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"readQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"query\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"GET_ZONE\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"variables\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"_id\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'foo'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.h3,{id:\"mutation\",children:[(0,e.jsx)(n.a,{href:\"#mutation\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Mutation\"]}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"updates a single existing entity\"}),(0,e.jsx)(n.li,{children:\"modifies multiple entities\"}),(0,e.jsx)(n.li,{children:\"creates\"}),(0,e.jsx)(n.li,{children:\"deletes\"}),(0,e.jsx)(n.li,{children:\"Application-specific side-effects\"})]}),(0,e.jsxs)(n.p,{children:[\"\\uCCAB\\uBC88\\uC9F8\\uC778 \",(0,e.jsx)(n.strong,{children:\"updates a single existing entity\"}),\"\\uC758 \\uACBD\\uC6B0\\uB294 \\uC27D\\uC2B5\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mutation\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-mutation\",children:\"EditTodo\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token scalar\",children:\"Int\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$text\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token scalar\",children:\"String\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query property-mutation\",children:\"editTodo\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"text\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$text\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"success\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"todo\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"# \u003c- Returning it here\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"text\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"completed\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC740 \\uBC18\\uD658\\uAC12\\uC5D0 id, text \\uB458 \\uB2E4 \\uC788\\uAE30\\uC5D0, id\\uB97C \\uBE44\\uAD50\\uD574\\uC11C cache\\uC5D0\\uC11C \\uCC3E\\uACE0 \\uC0C8\\uB85C\\uC6B4 \\uAC12\\uC73C\\uB85C update\\uD574\\uC90D\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.p,{children:[\"\\uB450\\uBC88\\uC9F8\\uC778 \",(0,e.jsx)(n.strong,{children:\"modifies multiple entities\"}),\"\\uB3C4 \\uB9C8\\uCC2C\\uAC00\\uC9C0\\uB85C \\uBC18\\uD658\\uAC12\\uC5D0 id + \\uBCC0\\uD654\\uB41C \\uAC12\\uB4E4\\uC744 \\uD3EC\\uD568\\uD558\\uACE0 \\uC788\\uC73C\\uBA74 \\uCCAB\\uBC88\\uC9F8\\uC640 \\uAC19\\uC740 \\uACFC\\uC815\\uC73C\\uB85C update\\uD574\\uC90D\\uB2C8\\uB2E4. \\uD558\\uC9C0\\uB9CC \\uBCC0\\uD654\\uB41C \\uAC12\\uB4E4\\uC744 \\uC804\\uBD80 \\uD3EC\\uD568\\uD558\\uC9C0 \\uC54A\\uACE0 \\uC788\\uB2E4\\uBA74 \\uC9C1\\uC811 \\uC5C5\\uB370\\uC774\\uD2B8 \\uD574\\uC8FC\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC138\\uBC88\\uC9F8\\uC778 \",(0,e.jsx)(n.strong,{children:\"creates\"}),\"\\uC758 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uCC38\\uACE0\\uD560 cache\\uC758 id\\uAC00 \\uC5C6\\uAE30\\uC5D0 \\uC790\\uB3D9\\uC73C\\uB85C \\uC5C5\\uB370\\uC774\\uD2B8\\uAC00 \\uB418\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4 \\uC544\\uB798\\uC758 \\uC608\\uC2DC\\uC640 \\uAC19\\uC774 \\uC9C1\\uC811 cache\\uC5D0 \\uC5C5\\uB370\\uC774\\uD2B8 \\uD574\\uC8FC\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"mutate\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" error \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" useMutation\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AddTodoTypes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AddTodo\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AddTodoTypes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AddTodoVariables\"})}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"ADD_TODO\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token function\",children:\"update\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" data \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" newTodoFromResponse \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"addTodo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"todo\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" existingTodos \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"readQuery\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"GetAllTodos\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"query\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"GET_ALL_TODOS\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"existingTodos \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" newTodoFromResponse\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"writeQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"query\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"GET_ALL_TODOS\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"todos\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),\"existingTodos\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"todos\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                newTodoFromResponse\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"              \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uB124\\uBC88\\uC9F8\\uC778 \",(0,e.jsx)(n.strong,{children:\"deletes\"}),\"\\uB3C4 cache\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8\\uB97C \\uD558\\uC9C0 \\uC54A\\uAE30\\uC5D0 \\uC9C1\\uC811 \\uC5C5\\uB370\\uC774\\uD2B8 \\uD574\\uC8FC\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"mutate\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" error \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" useMutation\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"DeleteTodoTypes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"DeleteTodo\"})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"DeleteTodoTypes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"DeleteTodoVariables\"})}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"DELETE_TODO\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"update\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" el\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" deletedId \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" el\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"deleteTodo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"todo\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),`id\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" allTodos \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"readQuery\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"GetAllTodos\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"query\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"GET_ALL_TODOS\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"writeQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"query\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"GET_ALL_TODOS\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"todos\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" allTodos\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"todos\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"filter\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"t\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" t\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"id \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!==\"}),\" deletedId\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      cache\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"evict\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" el\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"deleteTodo\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"todo\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"id \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C \",(0,e.jsx)(n.strong,{children:\"Application-specific side-effects\"}),\" \\uC608\\uB85C \\uB4E4\\uC5B4 logout\\uAC19\\uC740 mutation\\uC740 cache\\uD560 \\uD544\\uC694\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \\uB2E4\\uB9CC \\uC774\\uB54C \\uBAA8\\uB4E0 cache\\uB97C evict\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uC5C5\\uB370\\uC774\\uD2B8 \\uC2DC\\uCF1C \\uC904 \\uC218 \\uC788\\uB294 \\uC120\\uD0DD\\uC9C0\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"LOGOUT\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" gql\",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mutation\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-mutation\",children:\"Logout\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"logout\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"success\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"message\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token language-graphql graphql\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Navbar\"})}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"logout\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"LOGOUT\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"update\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      client\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"clearStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"div onClick\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"logout\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h2,{id:\"cache\\uB97C-\\uAD00\\uB9AC\\uD558\\uB294-\\uBC29\\uBC95\",children:[(0,e.jsx)(n.a,{href:\"#cache\\uB97C-\\uAD00\\uB9AC\\uD558\\uB294-\\uBC29\\uBC95\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Cache\\uB97C \\uAD00\\uB9AC\\uD558\\uB294 \\uBC29\\uBC95\"]}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"merge\"}),(0,e.jsx)(n.li,{children:\"read\"}),(0,e.jsx)(n.li,{children:\"specifying key arguments\"})]}),(0,e.jsx)(n.p,{children:\"\\uC138\\uAC00\\uC9C0\\uAC00 \\uC788\\uC9C0\\uB9CC read\\uC640 specifying key arguments\\uC740 \\uB098\\uC911\\uC5D0 \\uD544\\uC694\\uD574\\uC9C0\\uB9CC \\uADF8\\uB54C \\uCD94\\uAC00\\uD558\\uB3C4\\uB85D \\uD558\\uACA0\\uC2B5\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.h3,{id:\"merge\",children:[(0,e.jsx)(n.a,{href:\"#merge\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Merge\"]}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-query\",children:\"BookWithAuthorName\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token object\",children:\"favoriteBook\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"author\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-query\",children:\"BookWithAuthorBirthdate\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token object\",children:\"favoriteBook\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"author\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"dateOfBirth\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC704 \\uB450 query\\uB97C \\uBCF4\\uBA74 path\\uB294 \\uAC70\\uC758 \\uB3D9\\uC77C\\uD558\\uC9C0\\uB9CC \\uB9C8\\uC9C0\\uB9CC field\\uB9CC \\uC11C\\uB85C \\uB2E4\\uB985\\uB2C8\\uB2E4. \\uD558\\uC9C0\\uB9CC \\uACB0\\uAD6D\\uC740 \\uB2E4\\uB978 path\\uC774\\uAE30\\uC5D0 apollo\\uB294\"}),(0,e.jsx)(n.pre,{className:\"language-json\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-json\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"__typename\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Book\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"id\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"abc123\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"author\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"__typename\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Author\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"name\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"George Eliot\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uC704\\uC640 \\uAC19\\uC740 \\uD615\\uD0DC\\uB85C \\uBA3C\\uC800 cache\\uC5D0 \\uC800\\uC7A5\\uD574\\uB450\\uACE0 \\uB2E4\\uC74C\\uC73C\\uB85C \",(0,e.jsx)(n.code,{children:\"dateOfBirth\"}),\"\\uB97C \\uC694\\uCCAD\\uD558\\uB294 query\\uB97C \\uBCF4\\uB0C5\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-json\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-json\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"__typename\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Book\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"id\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"abc123\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"author\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"__typename\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"Author\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:'\"dateOfBirth\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"1819-11-22\"'}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\uC704\\uC640 \\uAC19\\uC740 cache\\uB97C \\uC800\\uC7A5\\uD574\\uC57C \\uD558\\uC9C0\\uB9CC \\uC774\\uBBF8 \\uAC19\\uC740 id\\uB97C \\uAC00\\uC9C4 cache object\\uAC00 \\uC788\\uAE30\\uC5D0 \\uC11C\\uB85C \\uCDA9\\uB3CC\\uC774 \\uB0A9\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uC774\\uB54C apollo\\uC758 default \\uD589\\uB3D9\\uC740 \\uB2E8\\uC21C\\uD788 \\uB9C8\\uC9C0\\uB9C9 cache\\uB85C override\\uD558\\uB294 \\uAC83\\uC785\\uB2C8\\uB2E4. \\uADF8\\uB807\\uAC8C \\uB41C\\uB2E4\\uBA74 \",(0,e.jsx)(n.code,{children:\"name\"}),\"\\uC5D0 \\uD574\\uB2F9\\uD558\\uB294 cache\\uB294 \\uB0A0\\uB77C\\uAC00 \\uBC84\\uB9B4\\uD14C\\uACE0 \\uB2E4\\uC2DC \\uD574\\uB2F9 query\\uB97C \\uBD80\\uB974\\uB294 page\\uB85C \\uAC14\\uC744 \\uB54C\\uB294 cache\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:\"name\"}),\"\\uC744 \\uCC38\\uC870\\uD558\\uC9C0 \\uBABB\\uD588\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uB2E4\\uC2DC request\\uB97C \\uBCF4\\uB0B4\\uB294 \\uC545\\uC21C\\uD658\\uC774 \\uC0DD\\uAE30\\uAC8C \\uB429\\uB2C8\\uB2E4\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB7F4 \\uB54C \\uC0AC\\uC6A9\\uD558\\uAC8C \\uB418\\uB294 \\uAC83\\uC774 \",(0,e.jsx)(n.strong,{children:\"merge\"}),\"\\uC785\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" cache \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"InMemoryCache\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"typePolicies\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"Book\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"fields\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"author\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uB354 \\uC790\\uC138\\uD558\\uAC8C \\uC870\\uC815\\uD558\\uACE0 \\uC2F6\\uC73C\\uBA74 \\uC774\\uC640 \\uAC19\\uC774\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token function\",children:\"merge\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"existing\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" incoming\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" mergeObjects \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"mergeObjects\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"existing\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" incoming\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC704\\uC640 \\uAC19\\uC774 object\\uD615\\uD0DC\\uB85C \\uD569\\uCE58\\uB294 \\uAC83\\uB9CC\\uC744 \\uC6D0\\uD558\\uBA74 boolean\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"merge: true,\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC704\\uC640 \\uAC19\\uC774 path\\uAC00 \\uBE44\\uC2B7\\uD558\\uC9C0\\uB9CC field\\uAC00 \\uB2EC\\uB77C object \\uD615\\uD0DC\\uB85C \\uD569\\uCE58\\uB294 \\uAC83 \\uC678\\uC5D0\\uB3C4 merge\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC774 \\uC0AC\\uC6A9\\uB420 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.p,{children:[\"\\uC544\\uC9C1 \\uC800\\uD76C app\\uC5D0\\uB294 \\uC5C6\\uC9C0\\uB9CC \",(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/caching/cache-field-behavior/#handling-pagination\",children:\"paginated list\"}),\" \\uB97C \\uAD6C\\uD604\\uD560 \\uB54C\\uCC98\\uB7FC cache\\uAC00 array\\uD615\\uD0DC\\uB85C \\uC800\\uC7A5\\uB418\\uC5B4\\uC57C \\uD560\\uB54C\\uB294\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-js\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" cache \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"InMemoryCache\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"typePolicies\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"Agenda\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"fields\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"tasks\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token function\",children:\"merge\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"existing \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"incoming\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),\"existing\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),\"incoming\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC640 \\uAC19\\uC774 array\\uB97C \\uC5F0\\uC7A5\\uD560 \\uC218\\uB3C4 \\uC788\\uC2B5\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.hr,{}),(0,e.jsxs)(n.h2,{id:\"ref\",children:[(0,e.jsx)(n.a,{href:\"#ref\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Ref\"]}),(0,e.jsxs)(n.ol,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/blog/graphql/basics/the-concepts-of-graphql/\",children:\"GraphQL Concepts Visualized - Apollo GraphQL Blog\"}),\" \\u2605\\u2605\\u2605\\u2605\\u2605\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/blog/apollo-client/caching/demystifying-cache-normalization/#operations-the-cache-cannot-automatically-update\",children:\"Demystifying Cache Normalization - Apollo GraphQL Blog\"}),\" \\u2605\\u2605\\u2605\\u2605\\u2605\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/docs/react/caching/cache-field-behavior/#the-merge-function\",children:\"Customizing the behavior of cached fields - Apollo GraphQL Docs\"}),\" \\u2605\\u2605\\u2605\\u2605\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.a,{href:\"https://crmrelease.tistory.com/140\",children:\"[\\uC815\\uB9AC] Apollo client \\uCE90\\uC2DC(cache)\\uC0AC\\uC6A9\"}),\" \\u2605\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.a,{href:\"https://morethanmin.com/post/apollo-gettings-started-mutate\",children:\"apollo\\uC5D0\\uC11C \\uBE44\\uB3D9\\uAE30 \\uC0C1\\uD0DC \\uAD00\\uB9AC\\uD558\\uB294 \\uBC29\\uC2DD \\uC54C\\uC544\\uBCF4\\uAE30 | morethanmin\"}),\" \\u2605\\u2605\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.a,{href:\"https://www.apollographql.com/blog/apollo-client/architecture/redux-to-apollo-data-access-patterns/\",children:\"Redux to Apollo: Data Access Patterns - Apollo GraphQL Blog\"}),\" \\u2605\\u2605\\u2605\"]})]})]})}}var q=f;return w;})();\n;return Component;","toc":[{"value":"QA","url":"#qa","depth":1},{"value":"Apollo가 cache하기 위한 조건","url":"#apollo가-cache하기-위한-조건","depth":2},{"value":"TL;DR","url":"#tldr","depth":3},{"value":"Apollo가 cache 하는 방법","url":"#apollo가-cache-하는-방법","depth":2},{"value":"TL;DR","url":"#tldr","depth":3},{"value":"Query","url":"#query","depth":3},{"value":"Mutation","url":"#mutation","depth":3},{"value":"Cache를 관리하는 방법","url":"#cache를-관리하는-방법","depth":2},{"value":"Merge","url":"#merge","depth":3},{"value":"Ref","url":"#ref","depth":2}],"frontMatter":{"readingTime":{"text":"12 min read","minutes":11.26,"time":675600,"words":2252},"slug":"apollo-cache","fileName":"apollo-cache.mdx","title":"Apollo Cache","date":"2023-05-10T00:00:00.000Z","tags":["apollo","graphql","cache","tip'"],"draft":false,"summary":"apollo cache의 mechanism과 어떻게 관리하는지","images":[],"layout":"PostSimple","canonicalUrl":null,"authors":["default"]}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.16,"time":9600,"words":32},"slug":["default"],"fileName":"default.mdx","name":"Lee Si Yoon","avatar":"/static/images/avatar.png","company":"FriendliAI(23.01 ~)","email":"dlduqehd1@gmail.com","github":"https://github.com/Lee-Si-Yoon","date":null}],"prev":{"title":"Outlet \u0026 Lazy load","date":"2023-04-30T00:00:00.000Z","tags":["optimization"],"draft":false,"summary":null,"images":[],"layout":"PostSimple","canonicalUrl":null,"authors":["default"],"slug":"outlet-lazy-load"},"next":{"title":"rxjs intro - 1","date":"2023-05-30T00:00:00.000Z","tags":["rxjs"],"draft":false,"summary":"rxjs 입문기, Observable부터","images":[],"layout":"PostSimple","canonicalUrl":null,"authors":["default"],"slug":"rxjs-intro-1"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["apollo-cache"]},"buildId":"JUdfHgGXb-FaFDjbUE7Yo","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>